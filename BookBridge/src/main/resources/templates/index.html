<!-- /*
* Template Name: Property
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"  lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Untree.co" />
    <link rel="shortcut icon" href="favicon.png" />

    <meta name="description" content="" />
    <meta name="keywords" content="bootstrap, bootstrap5" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="fonts/icomoon/style.css" />
    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css" />

    <link rel="stylesheet" href="css/tiny-slider.css" />
    <link rel="stylesheet" href="css/aos.css" />
    <link rel="stylesheet" href="css/style.css" />

    <title>
      BookBridge &mdash; 
    </title>
  </head>
  <body>
    <th:block th:replace="fragments/header :: headerFragment"></th:block>

    <div class="hero">
      <div class="hero-slide">
        <div
          class="img overlay"
          style="background-image: url('images/hero_bg_3.jpg')"
        ></div>
        <div
          class="img overlay"
          style="background-image: url('images/hero_bg_2.jpg')"
        ></div>
        <div
          class="img overlay"
          style="background-image: url('images/hero_bg_1.jpg')"
        ></div>
      </div>

      <div class="container">
        <div class="row justify-content-center align-items-center">
          <div class="col-lg-9 text-center">
            <h1 class="heading" data-aos="fade-up">
              다른 사람들과 나만의 독서 경험을 나누세요.
            </h1>
            <form
              action="search"
              method="POST"
              class="narrow-w form-search d-flex align-items-stretch mb-3"
              data-aos="fade-up"
              data-aos-delay="200"
            >
              <input
                type="text"
                class="form-control px-4"
                placeholder="도서 제목, 저자, 출판사 검색"
                autocomplete="off"
                name="keyword"
                required="required"
              />
              <button type="submit" class="btn btn-primary">Search</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="section" id="section1">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <h3 class="font-weight-bold text-primary heading">
              <b>인기 도서</b>
            </h3>
          </div>
          <div class="col-lg-6 text-lg-end">
            <p>
              <small>가장 많은 독후감이 등록된 도서</small>
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="property-slider-wrap">
              <div class="property-slider">
                <div class="property-item" th:each="book : ${topBook}">
                  <div class="property-content">
                   <a th:href="${#strings.substring(book.url,1,#strings.length(book.url)-1)}"
 target="_blank"
  th:attr="onclick='window.open(\'' + ${#strings.substring(book.url,1,#strings.length(book.url)-1)} + '\', \'popup\', \'width=800,height=1000\'); return false;'"
 >
              <img alt="" th:src=${#strings.substring(book.thumbnail,1,#strings.length(book.thumbnail)-1)}  style="margin-bottom: 1rem;">
              </a>
                    <div class="price mb-2" style="height: 64px;"><span>[[${book.title}]]</span>
                    </div>
                    <div>
                      <span class="d-block mb-2 text-black-50">
                      [[${book.author}]]</span>
                      <p th:if="${#strings.substring(book.contents,1,#strings.length(book.contents)-1) != null and #strings.substring(book.contents,1,#strings.length(book.contents)-1) != ''}"
               class="text-black-50" th:text="${book.contents.length() > 200 ? #strings.substring(book.contents, 0, 200) : book.contents} + ..." style="min-height: 100px;">
              </p>

                      <div class="specs d-flex mb-4">
                        <span class="d-block d-flex align-items-center me-3">
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book-half" viewBox="0 0 16 16">
  <path d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
</svg>
                          <span class="caption"> [[${book.publisher}]]</span>
                        </span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ol" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"/>
  <path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338v.041zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635V5z"/>
</svg>
                          <span class="caption"> 도서번호 : [[${#strings.substring(book.isbn,1,11)}]]</span>
                        </span>
                      </div>

                      <a
                        th:href="${#strings.substring(book.url,1,#strings.length(book.url)-1)}"
 target="_blank"
  th:attr="onclick='window.open(\'' + ${#strings.substring(book.url,1,#strings.length(book.url)-1)} + '\', \'popup\', \'width=800,height=1000\'); return false;'"
                        class="btn btn-primary py-2 px-3"
                        >See details</a
                      >
                    </div>
                  </div>
                </div>
              </div>

              <div
                id="property-nav"
                class="controls"
                tabindex="0"
                aria-label="Carousel Navigation"
              >
                <span
                  class="prev"
                  data-controls="prev"
                  aria-controls="property"
                  tabindex="-1"
                  >Prev</span
                >
                <span
                  class="next"
                  data-controls="next"
                  aria-controls="property"
                  tabindex="-1"
                  >Next</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    

    <div class="section sec-testimonials bg-light">
      <div class="container">
        <div class="row mb-5 align-items-center">
          <div class="col-md-6">
            <h3 class="font-weight-bold heading text-primary mb-4 mb-md-0">
              <b>최근 작성 독후감</b>
            </h3>
          </div>
          <div class="col-md-6 text-md-end">
            <div id="testimonial-nav">
              <span class="prev" data-controls="prev">Prev</span>

              <span class="next" data-controls="next">Next</span>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-4"></div>
        </div>
        <div class="testimonial-slider-wrap">
          <div class="testimonial-slider">
            
            <div class="item" th:each="review : ${reviewList}">
              <div class="testimonial">
                <a th:href="${#strings.substring(review.url,1,#strings.length(review.url)-1)}"
 target="_blank"
  th:attr="onclick='window.open(\'' + ${#strings.substring(review.url,1,#strings.length(review.url)-1)} + '\', \'popup\', \'width=800,height=1000\'); return false;'"
 >
              <img alt="" th:src=${#strings.substring(review.thumbnail,1,#strings.length(review.thumbnail)-1)} width="100" height="130" style="margin-bottom: 1rem;">
              </a>
                 <div  class="rate" style="font-size: 0;">
                  <span th:each="i : ${#numbers.sequence(1, review.rating)}" class="icon-star text-warning" style="font-size: 14px;"></span>
                  <span th:each="i : ${#numbers.sequence(1, 5-review.rating)}" class="icon-star text-secondary" style="font-size: 14px;"></span>
                </div>
                <h3 class="h5 text-primary mb-4">[[${review.title}]]</h3>
                <blockquote>
                  <p>
                    &ldquo;[[${review.review}]]&rdquo;
                  </p>
                </blockquote>
                <p class="text-black-50">[[${review.nickName}]],  [[${#temporals.format(review.regDate,'yyyy-MM-dd HH:mm','KST')}]]</p>
             
              </div>
            </div>

            
          </div>
        </div>
      </div>
    </div>

    

    <div class="section">
      <div class="row justify-content-center footer-cta" data-aos="fade-up">
        <div th:if="${session.userInfo == null}" class="col-lg-7 mx-auto text-center">
          <h2 class="mb-4">회원가입 후 나의 경험을 공유하세요.</h2>
          <p>
            <a
              href="#"
              class="btn btn-primary text-white py-3 px-4"
              data-bs-toggle="modal" data-bs-target="#registerModal"
              >회원 가입</a
            >
          </p>
        </div>
        <div th:if="${session.userInfo != null}" class="col-lg-7 mx-auto text-center">
          <h2 class="mb-4">지금바로 나의 경험을 공유하세요.</h2>
          <p>
            <a
              href="#"
              class="btn btn-primary text-white py-3 px-4"
              
              >도서 검색</a
            >
          </p>
        </div>
        <!-- /.col-lg-7 -->
      </div>
      <!-- /.row -->
    </div>

    
<th:block th:replace="fragments/modal :: modalFragment"></th:block>
    <th:block th:replace="fragments/footer :: footerFragment"></th:block>
    
    <!-- /.site-footer -->

    <!-- Preloader -->
    <div id="overlayer"></div>
    <div class="loader">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/tiny-slider.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/navbar.js"></script>
    <script src="js/counter.js"></script>
    <script src="js/custom.js"></script>
  </body>
</html>
